{% extends "uploads/base.html" %}
{% block content %}
<p>Debug Post: {{ post }}</p>
<p>Debug User Content: {{ user_content }}</p>
{% if user.is_superuser %}
    <h1>Essays from Students</h1>
    {% if post %}
        {% for post0 in post %}
        <div class="media-body">
            <h4>{{ post0.student }}</h4>
            <div class="article-metadata">
                <a class="mr-2" href="#">{{ post0.title }}</a>
                <small class="text-muted">{{ post0.created_at }}</small>
            </div>
            <h2>
                <a class="article-title" href="{% url 'post-detail' post0.id %}">{{ post0.content }}</a>
            </h2>
            <p class="article-content">{{ post0.created_at|date:'F d, Y' }}</p>
        </div>
        {% endfor %}
    {% else %}
        <p>No essays available.</p>
    {% endif %}
{% endif %}

<!-- Display user's own content -->
<h1>Your Uploaded Content</h1>
{% if user_content %}
    <ul>
        {% for content in user_content %}
        <li>
            <h2>{{ content.title }}</h2>
            <p>{{ content.content }}</p>
            <small>Date: {{ content.created_at }}</small>
        </li>
        {% endfor %}
    </ul>
{% else %}
    <p>You haven't uploaded any content yet.</p>
{% endif %}

{% endblock content %}
